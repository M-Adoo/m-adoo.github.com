<!DOCTYPE html>
<html lang="en">
<head>
        <title>Chapter 13 Red-Black trees (红黑树)</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://www.roading.org/theme/css/main.css" type="text/css" />
        <link href="http://www.roading.org/feed/index.xml" type="application/atom+xml" rel="alternate" title="Adoo's blog Atom Feed" />
        <link href="http://www.roading.org/feed/all.rss" type="application/rss+xml" rel="alternate" title="Adoo's blog RSS Feed" />
</head>
<body id="index" class="home">
        <header id="banner" class="body">
                <div id="siteinfo"><a id="sitename" rel="nofollow" href="http://www.roading.org">Adoo's blog </a><span id="subsitename"> 怀理想主义，行务实之道。</span></div>
<div id="header-search-form">
<gcse:searchbox-only>Loading...</gcse:searchbox-only>
</div>
                <div class="clear"></div>
		<nav>
			<ul id= "nav-pages">
				    <li><a href="http://www.roading.org/pages/about-me.html">About me</a></li>
				    <li><a href="http://www.roading.org/pages/links.html">links</a></li>
				    <li><a href="http://www.roading.org/pages/message.html">Message</a></li>
				    <li><a href = "http://www.roading.org/tweets.html">Tweets</a></li>
				    <li><a href="http://www.roading.org/archives.html">Archive</a></li>
		        </ul>
			<ul id="nav-tags">
       					 <li><a href="http://www.roading.org/tag/fan-yi.html" title="外文翻译">翻译</a></li>
       					 <li><a href="http://www.roading.org/tag/bi-ji.html" title="或为读书笔记，或偶有心得">笔记</a></li>
       					 <li><a href="http://www.roading.org/tag/sui-bi.html" title="人生愁几许？难有不悲秋！">随笔</a></li>
			</ul>
			<div class="clear"></div>
			<hr>
<div class="crumbs">
<a href="http://www.roading.org" title ="Back to homepage">Home</a> »
<a href="http://www.roading.org/category/introduction-to-algorithm-third-edition.html">Introduction to Algorithm -third edition</a> »
Chapter 13 Red-Black trees (红黑树)
</div>
		</nav>
	</header><!-- /#banner -->
    <div class="article-page">
	<h1>Chapter 13 Red-Black trees (红黑树)</h1>
	<div class="content">
	      <div class="post-info">
        <abbr class="published" title="2011-12-25T22:43:00">
                Sun 25 December 2011
        </abbr>
        <address class="article_author">
                By <a class="url fn" href="http://www.roading.org/author/adoo.html">Adoo</a>
        </address>
	    <abbr title="算法导论&nbsp;&nbsp;red black trees&nbsp;&nbsp;">
	    Tags: 
		<a title="permalink to 算法导论" href="http://www.roading.org/tag/suan-fa-dao-lun.html">算法导论</a>
		<a title="permalink to red black trees" href="http://www.roading.org/tag/red-black-trees.html">red black trees</a>
	    </abbr>
	<abbr>In <a title="permalink to Introduction to Algorithm -third edition" href="http://www.roading.org/category/introduction-to-algorithm-third-edition.html">Introduction to Algorithm -third edition</a></abbr>
</div><!-- /.post-info -->
	      <p>之前的<a href="http://www.roading.org/algorithm/introductiontoalgorithm/chapter-12-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91binary-search-tree.html">二叉搜索树</a>提供了一系列算法复杂度为<em>O</em>(<em>h</em>)的基本操作：SEARCH,
MINIMUM, MAXIMUM, INSERT, DELETE SUCCESSOR and
PREDECESSOR。无疑，当树的高度比较小的时候这些操作有很好的效率，然而当二叉树总是“一条脚站立”时，树的高度就会很高，此时它效率并不会比链表快。红黑树即是一种从二叉搜索树上发展而来的“平衡”搜索树，它能保证在最坏情况下上述操作的复杂度为
<em>O</em>(lg<em>n</em>) .</p>
<h3>红黑树的属性( Properties of red-black trees)</h3>
<p>红黑树的每个结点需要在二叉搜索树的基础上多添加一个字段
<em>color</em>,用以表示结点的颜色(红或黑)。一棵红黑树必须满足以下五点属性：</p>
<blockquote>
<ol>
<li>Every node is either red or black.</li>
<li>The root is black。</li>
<li>Every leaf (NIL) is black.</li>
<li>If a node is red, then both its children are black.</li>
<li>For each node, all paths from the node to descendant leaves
    contain the same number of black nodes.</li>
</ol>
</blockquote>
<p>当然还有一点最基本但不言自明的属性：红黑树首先是一棵搜索树，所以之前关于<a href="http://www.roading.org/algorithm/introductiontoalgorithm/chapter-12-%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91binary-search-tree.html">二叉搜索树</a>的属性也同样适用于红黑树。“胁迫”红黑树满足于上述的五点属性，其目的完全在于得到一棵更加平衡的二叉树，也就是下面这条定理：</p>
<blockquote>
<p><strong>Lemma 13.1</strong> A red-black tree with <em>n</em> internal nodes has height at most 2 lg(<em>n</em> + <em>1</em>).</p>
</blockquote>
<p>要证明这条定理并不难，具体可以见 <em>Introduction to algorithm –third edition</em>第309页。</p>
<p>一棵红黑树的表示可以如图(a)；但是为了节省空间，我们可以设定一个哨兵来代替全部叶子，如图 (b)
的结构；为了简练，我们可以不画出叶子以及根结点的父亲。</p>
<p><img alt="红黑树的结构" src="http://www.roading.org/images/2011-12/thumb.jpg" /></p>
<p>对于SEARCH, MINIMUM, MAXIMUM, SUCCESSOR 和 PREDECESSOR这几个不破坏树结构的操作，我们可以完全使用与实现二叉搜索树的这些操作的方法来实现这些操作，但对于INSERT, DELETE这两个会破坏树结构的操作，则需要有一些小小的变化——操作之后修复红黑属性。</p>
<h3>旋转( Rotations )</h3>
<p>在红黑树中插入或删除指定节点后，事情并没有完全结束。因为红黑树的属性可能被破话，所以我们需要恢复红黑树的属性。恢复红黑树的属性，我们需要对树中的一些结点重新着色和修改一些指针结构。对于修改指针结构我们通过旋转来实现。</p>
<p>旋转分为左旋和右旋，左旋的具体操作为：</p>
<blockquote>
<p>When we do a left rotation on a node <em>x</em>, we assume that its right
child <em>y</em> is not T.<em>nil</em>; <em>x</em> may be any node in the tree whose right
child is not T.<em>nil</em>. The left rotation "pivots" around the link from
<em>x</em> to <em>y</em>. It makes <em>y</em> the new root of the subtree, with <em>x</em> as
<em>y</em>'s left child and <em>y</em>'s left child as <em>x</em>'s right child.</p>
</blockquote>
<p>示意图：</p>
<p><img alt="红黑树的旋转" src="http://www.roading.org/images/2011-12/image_thumb2.png" /></p>
<p>左旋的伪代码：</p>
<div class="codehilite"><pre><span class="n">LEFT</span><span class="o">-</span><span class="n">ROTATE</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">right</span>                 <span class="c1">//set y</span>
    <span class="n">x</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">y</span><span class="p">.</span><span class="n">left</span>            <span class="c1">//turn y&#39;s left subtree into x&#39;s right subtree</span>
    <span class="k">if</span> <span class="n">y</span><span class="p">.</span><span class="n">left</span> <span class="o">!=</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
        <span class="n">y</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span>
    <span class="n">y</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span>                   <span class="c1">//link x&#39;s parent to y </span>
    <span class="k">if</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span> <span class="o">==</span> <span class="n">t</span><span class="p">.</span><span class="n">nil</span>
        <span class="n">T</span><span class="p">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">y</span>
    <span class="k">else</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">left</span>
        <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">y</span> 
    <span class="k">else</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">y</span>
    <span class="n">x</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">x</span>                  <span class="c1">//put x on y&#39;s left</span>
    <span class="n">x</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">y</span>
</pre></div>
<p>左旋操作在具体的红黑树中的演示：</p>
<p><img alt="左旋操作演示" src="http://www.roading.org/images/2011-12/image_thumb4.png" /></p>
<h3>插入操作</h3>
<p>红黑树的插入操作与二叉搜索树的插入操作非常相似，毕竟红黑树也是一种二叉搜索树。其伪代码为：</p>
<div class="codehilite"><pre><span class="n">RB</span><span class="o">-</span><span class="n">INSERT</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">root</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">!=</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> 
        <span class="k">if</span> <span class="n">z</span><span class="p">.</span><span class="n">key</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">.</span><span class="n">key</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">left</span>
        <span class="k">else</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">right</span>
    <span class="n">z</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">y</span> 
    <span class="k">if</span> <span class="n">y</span> <span class="o">==</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
        <span class="n">T</span><span class="p">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">z</span>
    <span class="k">else</span>
        <span class="k">if</span> <span class="n">z</span><span class="p">.</span><span class="n">key</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">.</span><span class="n">key</span>
            <span class="n">y</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">z</span>
        <span class="k">else</span> 
            <span class="n">y</span><span class="p">.</span><span class="n">right</span> <span class="o">-</span> <span class="n">z</span>
    <span class="n">z</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
    <span class="n">z</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
    <span class="n">z</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>
    <span class="n">RB</span><span class="o">-</span><span class="n">INSERT</span><span class="o">-</span><span class="n">FIXUP</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</pre></div>
<p>但也有两处小小的不同：</p>
<ul>
<li>将 <em>z</em>的左孩子与右孩子都设置为 T.NIL 并将 <em>z</em> 的颜色设置为红色(第14-16行)。</li>
<li>由于可能破坏红黑树的红黑属性，所以要进行红黑属性修复操作——调用RB-INSERT-FIXUP函数(第17行)。</li>
</ul>
<p>在看RB-INSERT-FIXUP的伪代码之前，先考虑一下，当我们在红黑树中插入<em>z</em>结点并将其设置为红色后，红黑树的属性有哪些被破坏了。</p>
<ul>
<li>属性1(<em>Every node is either red or black.</em> )显然不会被破坏。</li>
<li>属性2(<em>The root is black。</em>)则不确定，当<em>z</em>被插入一棵空树时，
    <em>z</em>将成为该空黑树的根结点，并且是红色的。</li>
<li>属性3(<em>Every leaf (NIL) is black.</em> )，同样也没有问题，T.NIL始终没有改变。</li>
<li>属性4(<em>If a node is red, then both its children are black.</em>)是又一个
    有可能被破坏的属性，如果结点<em>z</em>的父亲是红色，那么属性将被破坏了。</li>
<li>属性5（<em>For each node, all paths from the node to descendant leaves
     contain the same number of black nodes.</em>），也没有问题，因为插入的是一
    个红色结点，黑高度(Black-height)并不会改变。什么是黑高度？</li>
</ul>
<blockquote>
<p>We call the number of black nodes on any simple path from, but not
including, a node x down to a leaf the black-height of the node.</p>
</blockquote>
<p>所以，红黑树的属性只有在这两种情况下被破坏：</p>
<ol>
<li>T是一颗空树，所以属性2被破坏。</li>
<li><em>z</em>的父亲是红色，因此属性4被破坏。</li>
</ol>
<p>这时在来讨论RB-INSERT-FIXUP就更加具体了，RB-INSERT-FIXUP要做的工作就是修复上面两种情况下带来的属性破坏。对于第一种情况，可以很容易的修复，直接将根节点着色为黑就可以了。关键在于对第二种的修复工作。对于第二种情况的修复工作，可以归纳为三种情况：</p>
<p><strong>情况1，<em>z</em>的叔叔是红色。</strong></p>
<p>因为z的父亲和叔叔是红色，所以它的爷爷必然是黑色，其情况如下图所示：</p>
<p><img alt="case1: z的叔叔是红色" src="http://www.roading.org/images/2011-12/image_thumb6.png" /></p>
<p>此时我们只需将 <em>z</em>的父亲和叔叔着色为黑，并将<em>z</em>的爷爷着色为红，即可解决节点<em>z</em>和
其父亲都为红色带来对属性4的破坏，且不会带来新的属性破坏。但问题并没有就此解决，因
为<em>z</em>的麻烦虽然解决，但却转移到了它的爷爷身上，它的爷爷同样面临着可能与它的父亲
同为红色的问题。不过没关系，让<em>z</em>的爷爷成为新的<em>z</em>吧，我们再以新<em>z</em>的来修复属性。
好在即使问题一直存在，但却不断在向根结点移动，最终，我们可以简单的将根结点设置为黑
就能解决了。</p>
<p><strong>情况2，<em>z</em>的叔叔是黑色，且<em>z</em>是右孩子。</strong></p>
<p>对于情况2，对<em>z</em>进行一次左旋，并将<em>z</em>的左孩子设置为新的<em>z</em>就可以快速的将情况2转化为情况3了。</p>
<p><strong>情况3，<em>z</em>的叔叔是黑色，且<em>z</em>是左孩子。</strong></p>
<p>对于情况3，我们对其爷爷进行一次旋转操作，并将其父亲着色为黑，其爷爷着色为红，此时在并不破坏其它属性的情况下，可以解决属性4冲突的问题。</p>
<p>情况2和情况3的示意图如下(当<em>z</em> 的父亲为左孩子的情况)：</p>
<p><img alt="case 2 and case 3" src="http://www.roading.org/images/2011-12/image_thumb7.png" /></p>
<p>一开始，我以为情况1也可以用类似情况3的方法来解决问题，实际上是不行的，在情况1下进行类似情况3的操作后，<em>z</em>的爷爷与它的右孩子将都是红色的。</p>
<p>有了上面的分析，现在要来实现RB-INSERT-FIXUP就比较容易了。伪代码，如下</p>
<div class="codehilite"><pre><span class="n">RB</span><span class="o">-</span><span class="n">INSERT</span><span class="o">-</span><span class="n">FIXUP</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">RED</span>
        <span class="k">if</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span> <span class="o">==</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">left</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">right</span>
            <span class="k">if</span> <span class="n">y</span><span class="p">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">RED</span>
                <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span>           <span class="c1">//case 1</span>
                <span class="n">y</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span>             <span class="c1">//case 1</span>
                <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>           <span class="c1">//case 1</span>
                <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">p</span>                   <span class="c1">//case 1</span>
            <span class="k">else</span>
                <span class="k">if</span> <span class="n">z</span> <span class="o">==</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">right</span>           <span class="c1">//case 2</span>
                    <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span>                 <span class="c1">//case 2</span>
                    <span class="n">LEFT</span><span class="o">-</span><span class="n">ROTATE</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>       <span class="c1">//case 3    </span>
            <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span>               <span class="c1">//case 3</span>
            <span class="n">z</span><span class="p">,</span><span class="n">p</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>               <span class="c1">//case 3</span>
            <span class="n">RIGHT</span><span class="o">-</span><span class="n">ROTATE</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
        <span class="k">else</span><span class="p">(</span><span class="n">same</span> <span class="n">as</span> <span class="n">then</span> <span class="n">clause</span>
            <span class="n">whit</span> <span class="s">&quot;right&quot;</span> <span class="n">and</span> <span class="s">&quot;left&quot;</span> <span class="n">exchaged</span><span class="p">)</span>
</pre></div>
<h3>删除操作</h3>
<p>红黑树的删除操作是以二叉搜索树为基础构建的，当然它要复杂一点点，因为在删除完成之后，它还要额外维持红黑属性。</p>
<p>同样，首先要实现一个“移植函数”RB-TRANSPLANT：</p>
<div class="codehilite"><pre><span class="n">RB</span><span class="o">-</span><span class="n">TRANSPLANT</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">u</span><span class="p">.</span><span class="n">p</span> <span class="o">==</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
        <span class="n">T</span><span class="p">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">v</span>
    <span class="k">else</span> 
        <span class="k">if</span> <span class="n">u</span> <span class="o">==</span> <span class="n">u</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">left</span>
            <span class="n">u</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">else</span>
            <span class="n">u</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">v</span>
    <span class="n">v</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">u</span><span class="p">.</span><span class="n">p</span>
</pre></div>
<p>RB-TRANSPLANT与二叉搜索树中的 TRANSPLANT基本上没有不同。细微分别之处在于：</p>
<ol>
<li>使用 T.NIL 代替了TRANSPLANT中使用的NIL</li>
<li>在最后一行代码中，即使 <em>v</em>等于T.NiL也可以给 <em>v.p</em>赋值。</li>
</ol>
<p>删除操作的代码较之二叉搜索树的删除操作代码，虽然主体相近，但差异也明显：</p>
<div class="codehilite"><pre><span class="n">RB</span><span class="o">-</span><span class="n">DELETE</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">z</span>
    <span class="n">y</span><span class="o">-</span><span class="n">original</span><span class="o">-</span><span class="n">color</span> <span class="o">=</span> <span class="n">y</span><span class="p">.</span><span class="n">color</span>  
    <span class="k">if</span> <span class="n">z</span><span class="p">.</span><span class="n">left</span> <span class="o">==</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">right</span>
        <span class="n">RB</span><span class="o">-</span><span class="n">TRANSLANT</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span><span class="n">right</span><span class="p">)</span>
    <span class="k">else</span>
        <span class="k">if</span> <span class="n">z</span><span class="p">.</span><span class="n">right</span> <span class="o">==</span> <span class="n">T</span><span class="p">.</span><span class="n">nil</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">left</span>
            <span class="n">RB</span><span class="o">-</span><span class="n">TRANSLANT</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">z</span><span class="p">.</span><span class="n">left</span><span class="p">)</span>
        <span class="k">else</span> <span class="n">y</span> <span class="o">=</span> <span class="n">TREE</span><span class="o">-</span><span class="n">MINIMUM</span><span class="p">(</span><span class="n">z</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
            <span class="n">y</span><span class="o">-</span><span class="n">original</span><span class="o">-</span><span class="n">color</span> <span class="o">=</span> <span class="n">y</span><span class="p">.</span><span class="n">color</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="p">.</span><span class="n">right</span>
            <span class="k">if</span> <span class="n">y</span><span class="p">.</span><span class="n">p</span> <span class="o">==</span> <span class="n">z</span>
                <span class="n">x</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">y</span>
            <span class="k">else</span>
                <span class="n">RB</span><span class="o">-</span><span class="n">TRANPLANT</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span><span class="p">.</span><span class="n">right</span><span class="p">)</span>
                <span class="n">y</span><span class="p">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">right</span>
                <span class="n">y</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">y</span>
            <span class="n">RB</span><span class="o">-</span><span class="n">TRANSPLANT</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
            <span class="n">y</span><span class="p">.</span><span class="n">left</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">left</span>
            <span class="n">y</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">p</span> <span class="o">=</span> <span class="n">y</span>
            <span class="n">y</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">z</span><span class="p">.</span><span class="n">color</span>
        <span class="k">if</span> <span class="n">y</span><span class="o">-</span><span class="n">original</span><span class="o">-</span><span class="n">color</span> <span class="o">==</span> <span class="n">BLACK</span>
            <span class="n">RB</span><span class="o">-</span><span class="n">DELETE</span><span class="o">-</span><span class="n">FIXUP</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
</pre></div>
<ul>
<li>多维持了一个结点<em>y</em>,可以看出，在<em>z</em>只有一个孩子时，<em>y</em>保存的是
    <em>z</em>的结点，而在 <em>z</em>有两个孩子时，<em>y</em>保存的是代替<em>z</em> 的结点。</li>
<li>另外由于 <em>y</em>的颜色可能改变，用 <em>y-orignal-color</em>保存了<em>y</em>原来的颜色。</li>
<li>还有一个<em>x</em>总是储存着<em>y</em>原来的位置。另外，在第13行，确保 <em>x.p</em>在
    <em>x</em>等于<em>T.NIL</em> 时也指向<em>y</em>。在前面<em>z</em>只有一个结点的情况中不需要类似13行的
    操作是因为，那种情况下，如果<em>x</em>等于<em>T.NIL</em>那么<em>T</em>就成为一棵空树了。</li>
<li>最后，根据<em>y-orignal-color</em>是否为空来决定是否进行对红黑树执行属性维护了。</li>
</ul>
<p>为什么当<em>y-orignal-color</em>的颜色为红的时候不需要进行属性维护呢？原因在于：第一，y
记录的是“真正”被删除的节点，在<em>z</em>只有一个节点的情况下，<em>y</em>直接记录<em>z</em>，这自不必说。当<em>z</em>有两个节点的时候，<em>z</em>的位置被<em>y</em>替代，且<em>y</em>继承了<em>z</em>的颜色，所以此时<em>z</em>
的删除不会影响任何红黑属性，而真正会影响到红黑属性的是将<em>y</em>从原来的位置移除操作。第二，显然删除一个红色的结点，对整个树的红黑属性，不会有任何影响。</p>
<p>至此，最后的问题就是，怎么通过<em>x</em>来维护<em>T</em>的红黑属性了，也就是如何实现
RB-DELETE-FIXUP 子函数的问题了。</p>
<p>想一想，如果我们在移除 y 的时候，可以将<em>y</em>的黑属性外加给<em>x</em>，那么，<em>x</em>的颜色要么是“红-黑”，要么就是“黑-黑”，假使真的可以这样的话，那么红黑树的任何属性就就都不会被破坏了。实际上当然不能如此，但却不妨碍我们这么想：当<em>x</em>的颜色是红色，那么代表它应该是“红-黑”，当<em>x</em>的颜色是黑色，那么代表它应该是“黑-黑”。维护红黑属性的问题就变成了如何在不破坏红黑树属性的情况下拆分<em>x</em>的颜色了。</p>
<p>当 x 为“红-黑”时，我们可以很简单的将<em>x</em>直接设置为黑色就可以了，因为丢掉一个红色，不会带来任何问题，而当<em>x</em>为“黑-黑”时，我们就要分情况讨论了。可以分为四种情况：</p>
<p><strong>情况1：<em>x</em>的兄弟是红色。</strong></p>
<p>因<em>x</em>的兄弟是红色，那么<em>x</em>的兄弟的两个儿子和<em>x</em>的父亲都是黑色。可以通过一次旋转(<em>x</em>是左儿子执行左旋，右儿子则要执行右旋)，并给一些结点改变颜色,来达到将情况1,转换到x 的兄弟是黑色的其它情况，也就是2、3、4三种情况中的一种。如下所示：</p>
<p><img alt="x的兄弟是红色" src="http://www.roading.org/images/2011-12/image_thumb11.png" /></p>
<p>上图所示，在没有带来任何其它属性破坏的情况下，一次右旋操作之后，x的兄弟变成黑色了。</p>
<p><strong>情况2：<em>x</em>的兄弟<em>w</em>是黑色，而且<em>w</em>的两个孩子都是黑色。</strong></p>
<p>这种情况下，我们可以从<em>x</em>的身上拿下一个黑色，并且将<em>x</em>的兄弟改变为红色，然后给它们的父亲外加上一个黑色，<em>x</em>成功解除了一个黑色，但它的父亲又成了新的‘<em>x</em>’，继续颜色分离之旅。如下图(白色表示颜色未知)：</p>
<p><img alt="x的兄弟是黑色，且x的兄弟的两个孩子是黑色" src="http://www.roading.org/images/2011-12/image_thumb12.png" /></p>
<p><strong>情况3：<em>x</em>的兄弟<em>w</em>是黑色，而且<em>w</em>的左孩子是红色,右孩子是黑色。</strong></p>
<p>这种情况下，将<em>w</em>进行一次旋转，并进行相应颜色变换，变转换到了情况4。如下图：</p>
<p><img alt="x的兄弟w是黑色，而且w的左孩子是红色,右孩子是黑色" src="http://www.roading.org/images/2011-12/image_thumb13.png" /></p>
<p><strong>情况4：<em>x</em>的兄弟<em>w</em>是黑色，而且<em>w</em>的右孩子是红色。</strong></p>
<p>此时，只需对<em>x</em>的父亲着色为黑并进行一次旋转，使得<em>w</em>代替它原来父亲的位置并继承其颜色，即可将<em>x</em>身上的一个黑色拿去。且所有的问题都解决了。示意图如下：</p>
<p><img alt="x的兄弟w是黑色，而且w的右孩子是红色" src="http://www.roading.org/images/2011-12/image_thumb14.png" /></p>
<p>此时再来看，RB-DELETE-FIXUP 的伪码就显得很清晰了：</p>
<div class="codehilite"><pre><span class="n">RB</span><span class="o">-</span><span class="n">DELETE</span><span class="o">-</span><span class="n">FIXUP</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">x</span>  <span class="o">!=</span> <span class="n">T</span><span class="p">.</span><span class="n">root</span> <span class="n">and</span> <span class="n">x</span><span class="p">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">BLACK</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">left</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">left</span>
            <span class="k">if</span> <span class="n">w</span><span class="p">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">red</span>       
                <span class="n">w</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span>                                         <span class="c1">//case 1</span>
                <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>                                          <span class="c1">//case 1</span>
                <span class="n">LEFT</span><span class="o">-</span><span class="n">ROTATE</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>                                  <span class="c1">//case 1</span>
                <span class="n">w</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">right</span>                                              <span class="c1">//case 1</span>
            <span class="k">if</span> <span class="n">w</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">BLACK</span> <span class="n">and</span> <span class="n">w</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">BLACk</span>
                <span class="n">w</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">RED</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span>
            <span class="k">else</span> 
                <span class="k">if</span>  <span class="n">w</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">BLACK</span>
                    <span class="n">w</span><span class="p">.</span><span class="n">left</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span>
                    <span class="n">RIGHT</span><span class="o">-</span><span class="n">ROTATE</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">right</span>
                <span class="n">w</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span>
                <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span>
                <span class="n">w</span><span class="p">.</span><span class="n">right</span><span class="p">.</span><span class="n">color</span>  <span class="o">=</span> <span class="n">BLACK</span>
                <span class="n">LEFT</span><span class="o">-</span><span class="n">ROTATE</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
                <span class="n">x</span> <span class="o">=</span> <span class="n">T</span><span class="p">.</span><span class="n">root</span>
        <span class="k">else</span>
            <span class="p">(</span><span class="n">same</span> <span class="n">as</span> <span class="n">them</span> <span class="n">clause</span> <span class="n">with</span> <span class="s">&quot;right&quot;</span> <span class="n">and</span> <span class="s">&quot;left&quot;</span> <span class="n">exchaged</span><span class="p">)</span>
    <span class="n">x</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">BLACK</span>
</pre></div>
		  <p style= "text-align:right;"><em>
		  Sun 25 December 2011 By <a class="url fn" href="http://www.roading.org/pages/about-me.html">Adoo</a>
		  (<a href = "http://www.roading.org/pages/message.html">Contact me</a>)</em></p>
		  <p style="text-align:right;"><em>欢迎你与我交流探讨，如有错误疏漏之处，恳请指正。
		  (<a href="http://www.roading.org//algorithm/introductiontoalgorithm/chapter-13-red-black-trees-%e7%ba%a2%e9%bb%91%e6%a0%91.html">本文原链</a>)</em></p>
	    <span class = "left">Share this with your friends:</span>
	    <div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare">
		<a class="bds_tsina"></a>
		<a class="bds_qzone"></a>
		<a class="bds_tqq"></a>
		<a class="bds_douban"></a>
		<a class="bds_taobao"></a>
		<a class="bds_renren"></a>
		<a class="bds_kaixin001"></a>
		<a class="bds_twi"></a>
		<a class="bds_copy"></a>
	    </div>     
	<div class="ds-thread"></div>
	</div>
        <div class="sidebar">
		<div id="relative-articles">
		<h3>Related Posts</h3>
		<ul class="related-articles">
		   <li><a title="并查集(Disjoint Set)" href="http://www.roading.org/algorithm/introductiontoalgorithm/Disjoint_set.html">并查集(Disjoint Set)</a></li>
		   <li><a title="Van Emde Boas trees" href="http://www.roading.org/algorithm/introductiontoalgorithm/Van_Emde_Boas_trees.html">Van Emde Boas trees</a></li>
		   <li><a title="斐波那契堆的C++实现" href="http://www.roading.org/algorithm/fibonacci-heaps-in-cpp.html">斐波那契堆的C++实现</a></li>
		   <li><a title="斐波那契堆(Fibonacci Heaps)" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e6%96%90%e6%b3%a2%e9%82%a3%e5%a5%91%e5%a0%86fibonacci-heaps.html">斐波那契堆(Fibonacci Heaps)</a></li>
		   <li><a title="B-树的C++实现" href="http://www.roading.org/algorithm/introductiontoalgorithm/b-%e6%a0%91%e7%9a%84c%e5%ae%9e%e7%8e%b0.html">B-树的C++实现</a></li>
		   <li><a title="算法导论——B-trees" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%bab-trees.html">算法导论——B-trees</a></li>
		   <li><a title="算法导论——平摊分析" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%ba%e5%b9%b3%e6%91%8a%e5%88%86%e6%9e%90.html">算法导论——平摊分析</a></li>
		   <li><a title="赫夫曼编码" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%ba%e8%b5%ab%e5%a4%ab%e6%9b%bc%e7%bc%96%e7%a0%81.html">赫夫曼编码</a></li>
		   <li><a title="贪心算法" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%ba%e8%b4%aa%e5%bf%83%e7%ae%97%e6%b3%95.html">贪心算法</a></li>
		   <li><a title="最优二叉查找树" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e6%9c%80%e4%bc%98%e5%84%bf%e5%8f%89%e6%9f%a5%e6%89%be%e6%a0%91.html">最优二叉查找树</a></li>
		   <li><a title="最长单调子序列问题" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e6%9c%80%e9%95%bf%e5%8d%95%e8%b0%83%e5%ad%90%e5%ba%8f%e5%88%97%e9%97%ae%e9%a2%98.html">最长单调子序列问题</a></li>
		   <li><a title="最长公共子序列" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e6%9c%80%e9%95%bf%e5%85%ac%e5%85%b1%e5%ad%90%e5%ba%8f%e5%88%97.html">最长公共子序列</a></li>
		   <li><a title="动态规划基础" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%9f%ba%e7%a1%80.html">动态规划基础</a></li>
		   <li><a title="动态规划笔记（1）——Rod cutting" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e7%ac%94%e8%ae%b0%ef%bc%881%ef%bc%89rod-cutting.html">动态规划笔记（1）——Rod cutting</a></li>
		   <li><a title="扩展数据结构" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e6%89%a9%e5%b1%95%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84.html">扩展数据结构</a></li>
		   <li><a title="在没有父指针情况下的红黑树插入操作" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%9c%a8%e6%b2%a1%e6%9c%89%e7%88%b6%e6%8c%87%e9%92%88%e6%83%85%e5%86%b5%e4%b8%8b%e7%9a%84%e7%ba%a2%e9%bb%91%e6%a0%91%e6%8f%92%e5%85%a5%e6%93%8d%e4%bd%9c.html">在没有父指针情况下的红黑树插入操作</a></li>
		   <li><a title="C++实现红黑树，仿STL封装" href="http://www.roading.org/algorithm/introductiontoalgorithm/c%e5%ae%9e%e7%8e%b0%e7%ba%a2%e9%bb%91%e6%a0%91%ef%bc%8c%e4%bb%bfstl%e5%b0%81%e8%a3%85.html">C++实现红黑树，仿STL封装</a></li>
		   <li class="selected">Chapter 13 Red-Black trees (红黑树)</li>
		   <li><a title="Radix Tree 基数树" href="http://www.roading.org/algorithm/introductiontoalgorithm/radix-tree-%e5%9f%ba%e6%95%b0%e6%a0%91.html">Radix Tree 基数树</a></li>
		   <li><a title="非递归不用栈遍历搜索二叉树" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e9%9d%9e%e9%80%92%e5%bd%92%e4%b8%8d%e7%94%a8%e6%a0%88%e9%81%8d%e5%8e%86%e6%90%9c%e7%b4%a2%e4%ba%8c%e5%8f%89%e6%a0%91.html">非递归不用栈遍历搜索二叉树</a></li>
		   <li><a title="仿STL 的二叉搜索树的C++实现" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e4%bb%bfstl-%e7%9a%84%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91%e7%9a%84c%e5%ae%9e%e7%8e%b0.html">仿STL 的二叉搜索树的C++实现</a></li>
		   <li><a title="Chapter 12 二叉搜索树(Binary Search Tree) 2" href="http://www.roading.org/algorithm/introductiontoalgorithm/chapter-12-%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91binary-search-tree-2.html">Chapter 12 二叉搜索树(Binary Search Tree) 2</a></li>
		   <li><a title="Chapter 12 二叉搜索树(Binary Search Tree) 1" href="http://www.roading.org/algorithm/introductiontoalgorithm/chapter-12-%e4%ba%8c%e5%8f%89%e6%90%9c%e7%b4%a2%e6%a0%91binary-search-tree.html">Chapter 12 二叉搜索树(Binary Search Tree) 1</a></li>
		   <li><a title="Solution of CLRS 11.1 exercises" href="http://www.roading.org/algorithm/introductiontoalgorithm/solution-of-clrs-11-1-exercises.html">Solution of CLRS 11.1 exercises</a></li>
		   <li><a title="哈希表的C++模板实现" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%93%88%e5%b8%8c%e8%a1%a8%e7%9a%84c%e6%a8%a1%e6%9d%bf%e5%ae%9e%e7%8e%b0.html">哈希表的C++模板实现</a></li>
		   <li><a title="哈希表（Hash Tables）（2）" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%93%88%e5%b8%8c%e8%a1%a8%ef%bc%88hash-tables%ef%bc%89%ef%bc%882%ef%bc%89.html">哈希表（Hash Tables）（2）</a></li>
		   <li><a title="哈希表（1）" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%93%88%e5%b8%8c%e8%a1%a8%ef%bc%881%ef%bc%89.html">哈希表（1）</a></li>
		   <li><a title="Chapter 10 Exercises and Problems (2)" href="http://www.roading.org/algorithm/introductiontoalgorithm/chapter-10-exercises-and-problems-2.html">Chapter 10 Exercises and Problems (2)</a></li>
		   <li><a title="Chapter 10 Exercises（1）" href="http://www.roading.org/algorithm/introductiontoalgorithm/chapter-10-exercises%ef%bc%881%ef%bc%89-2.html">Chapter 10 Exercises（1）</a></li>
		   <li><a title="第十章 Elementary Data Structures" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e5%8d%81%e7%ab%a0-elementary-data-structures-3.html">第十章 Elementary Data Structures</a></li>
		   <li><a title="第九章习题选做" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e4%b9%9d%e7%ab%a0%e4%b9%a0%e9%a2%98%e9%80%89%e5%81%9a.html">第九章习题选做</a></li>
		   <li><a title="第九章 中位数和顺序统计量（Medians and Order Statistic）" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e4%b9%9d%e7%ab%a0-%e4%b8%ad%e4%bd%8d%e6%95%b0%e5%92%8c%e9%a1%ba%e5%ba%8f%e7%bb%9f%e8%ae%a1%e9%87%8f%ef%bc%88medians-and-order-statistic%ef%bc%89.html">第九章 中位数和顺序统计量（Medians and Order Statistic）</a></li>
		   <li><a title="第八章（5） 习题 8-4 8-5 8-7" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e5%85%ab%e7%ab%a0%ef%bc%885%ef%bc%89-%e4%b9%a0%e9%a2%98-8-4-8-5-8-7.html">第八章（5） 习题 8-4 8-5 8-7</a></li>
		   <li><a title="桶排序（Bucket sort）" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e5%85%ab%e7%ab%a0%ef%bc%884%ef%bc%89-%e6%a1%b6%e6%8e%92%e5%ba%8f%ef%bc%88bucket-sort%ef%bc%89.html">桶排序（Bucket sort）</a></li>
		   <li><a title="第八章（3） 基数排序（Radix Sort）" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e5%85%ab%e7%ab%a0%ef%bc%883%ef%bc%89-%e5%9f%ba%e6%95%b0%e6%8e%92%e5%ba%8f%ef%bc%88radix-sort%ef%bc%89.html">第八章（3） 基数排序（Radix Sort）</a></li>
		   <li><a title="计数排序(Counting Sort)" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%ba-%e7%ac%ac%e5%85%ab%e7%ab%a02-%e8%ae%a1%e6%95%b0%e6%8e%92%e5%ba%8fcounting-sort.html">计数排序(Counting Sort)</a></li>
		   <li><a title="《算法导论》笔记汇总" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%ba%e7%b4%a2%e5%bc%95%e8%a1%a8.html">《算法导论》笔记汇总</a></li>
		   <li><a title="比较排序在最坏情况下时间复杂度为Ω(nlgn)" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%ba-%e7%ac%ac%e5%85%ab%e7%ab%a0%ef%bc%881%ef%bc%89-%e6%af%94%e8%be%83%e6%8e%92%e5%ba%8f%e5%9c%a8%e6%9c%80%e5%9d%8f%e6%83%85%e5%86%b5%e4%b8%8b%e6%97%b6%e9%97%b4.html">比较排序在最坏情况下时间复杂度为Ω(nlgn)</a></li>
		   <li><a title="快速排序课后7.4-5" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e4%b8%83%e7%ab%a0%ef%bc%882%ef%bc%89-%e5%bf%ab%e9%80%9f%e6%8e%92%e5%ba%8f-%e8%af%be%e5%90%8e7-4-5.html">快速排序课后7.4-5</a></li>
		   <li><a title="快排与随机快排效率分析" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%bf%ab%e6%8e%92%e4%b8%8e%e9%9a%8f%e6%9c%ba%e5%bf%ab%e6%8e%92%e6%95%88%e7%8e%87%e5%88%86%e6%9e%90.html">快排与随机快排效率分析</a></li>
		   <li><a title="快速排序及C++实现" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ac%ac%e4%b8%83%e7%ab%a0%ef%bc%881%ef%bc%89-%e5%bf%ab%e9%80%9f%e6%8e%92%e5%ba%8f.html">快速排序及C++实现</a></li>
		   <li><a title="算法导论6-3 young tableaus" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e7%ae%97%e6%b3%95%e5%af%bc%e8%ae%ba6-3-young-tableaus.html">算法导论6-3 young tableaus</a></li>
		   <li><a title="利用堆来建立优先级队列" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%88%a9%e7%94%a8%e5%a0%86%e6%9d%a5%e5%bb%ba%e7%ab%8b%e4%bc%98%e5%85%88%e7%ba%a7%e9%98%9f%e5%88%97.html">利用堆来建立优先级队列</a></li>
		   <li><a title="堆排序及其C++实现" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e5%a0%86%e6%8e%92%e5%ba%8f.html">堆排序及其C++实现</a></li>
		   <li><a title="排序之插入排序与合并排序-C++实现" href="http://www.roading.org/algorithm/introductiontoalgorithm/%e6%8f%92%e5%85%a5%e6%8e%92%e5%ba%8f-insertionsort-c%e5%ae%9e%e7%8e%b0.html">排序之插入排序与合并排序-C++实现</a></li>
		</ul>
		</div>
<h3>Contact me</h3>
<div class="social">
	<span style="font-size:15px">I'm here:</span>	
	<a href="http://www.roading.org/feed/index.xml" type="application/atom+xml" title="Atom feed" rel="alternate"><img src="http://www.roading.org/theme/images/icons/rss.png"></img></a>
	<a href="http://twitter.com/Monkey_Adoo" title="@Monkey_Adoo"><img src="http://www.roading.org/theme/images/icons/twitter.png"></img></a>
	<a href="http://weibo.com/boringMonkey" title="@M-Adoo"><img src="http://www.roading.org/theme/images/icons/weibo.png"></img></a>
	<a href="http://douban.com/people/Monkey_Adoo" title="Adoo"><img src="http://www.roading.org/theme/images/icons/douban.png"></img></a>
	<a rea="tomail" title="Adoo@outlook.com" href="mailto:Adoo@outlook.com"><img src="http://www.roading.org/theme/images/icons/email.png"></img></a>
	</div><!-- /.social -->
	</div>
	</div>
<div class="clear"></div>
 <div id="footer">
	<a class="right" href="#banner"  titile="Back to Top" rel="nofollow" title="Back to top">Top↑</a>
	<ul id="footer-nav" class="right">
		<li><a href="http://www.roading.org/pages/about-me.html">About me</a></li>
		<li><a href="http://www.roading.org/pages/links.html">links</a></li>
		<li><a href="http://www.roading.org/pages/message.html">Message</a></li>
		<li><a href="http://www.roading.org/archives.html">Archive</a></li>
	</ul>
	<div class="clear"></div>
	<p>Theme designed by Adoo. Powered by Pelican. &copy; 2011-2012</p>
       </div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"adoo"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- Google Search -->
<script>
  (function() {
    var cx = '014593096765008582725:vpqn4f4zw88';
    var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
	'//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
  })();
</script>
<!-- Google Analytics -->
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-29709820-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
<!-- 百度分享 -->
<script type="text/javascript" id="bdshare_js" data="type=tools" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
	document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + new Date().getHours();
</script>
<!-- Baidu Button END -->
<!-- Support latex by mathjax -->
<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>